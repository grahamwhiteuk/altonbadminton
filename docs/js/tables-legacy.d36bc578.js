(self["webpackChunkaltonbadminton"]=self["webpackChunkaltonbadminton"]||[]).push([[930],{504:function(t,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});a(1249),a(7327),a(1539);var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[s("TitleBar",{attrs:{title:"League Tables"}}),s("div",{attrs:{id:"contentContainer"}},[s("MainMenu"),s("div",{attrs:{id:"tablesContainer"}},[s("form",[s("label",{staticStyle:{"margin-right":"5px"},attrs:{for:"seasonSelect"}},[t._v("Season")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.seasonId,expression:"seasonId"}],attrs:{id:"seasonSelect"},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.seasonId=s.target.multiple?a:a[0]},function(s){return t.updateSeason()}]}},t._l(t.dataDescription,(function(a,r){return s("option",{key:r},[t._v(t._s(r))])})),0)]),s("h2",[t._v("League Tables for "+t._s(t.seasonId))]),t.render?t._e():s("div",[s("h2",[t._v(t._s(t.loadingMsg))])]),t.render?s("div",t._l(t.leagueTables,(function(a,r){return s("div",{key:r},[s("h3",[t._v(t._s(a.leagueName)+" Division "+t._s(a.division))]),s("div",{staticStyle:{"overflow-x":"auto"}},["games-rubbers"==a.type?s("table",{staticClass:"results"},[t._m(0,!0),s("tbody",t._l(a.leagueTable,(function(a,r){return s("tr",{key:r},[s("td",{staticClass:"m"},[t._v(t._s(r+1))]),s("td",{staticClass:"l br"},[t._v(t._s(a.club))]),s("td",{staticClass:"r br"},[t._v(t._s(a.played))]),s("td",{staticClass:"r br"},[t._v(t._s(a.won))]),s("td",{staticClass:"r br"},[t._v(t._s(a.drawn))]),s("td",{staticClass:"r br"},[t._v(t._s(a.lost))]),s("td",{staticClass:"r"},[t._v(t._s(a.secondaryAgainst))]),s("td",{staticClass:"r br"},[t._v(t._s(a.secondaryFor))]),s("td",{staticClass:"r"},[t._v(t._s(a.primaryAgainst))]),s("td",{staticClass:"r b"},[t._v(t._s(a.primaryFor))])])})),0)]):t._e(),"rubbers-games"==a.type?s("table",{staticClass:"results"},[t._m(1,!0),s("tbody",t._l(a.leagueTable,(function(a,r){return s("tr",{key:r},[s("td",{staticClass:"m"},[t._v(t._s(r+1))]),s("td",{staticClass:"l br"},[t._v(t._s(a.club))]),s("td",{staticClass:"r br"},[t._v(t._s(a.played))]),s("td",{staticClass:"r br"},[t._v(t._s(a.won))]),s("td",{staticClass:"r br"},[t._v(t._s(a.drawn))]),s("td",{staticClass:"r br"},[t._v(t._s(a.lost))]),s("td",{staticClass:"r"},[t._v(t._s(a.secondaryAgainst))]),s("td",{staticClass:"r br"},[t._v(t._s(a.secondaryFor))]),s("td",{staticClass:"r"},[t._v(t._s(a.primaryAgainst))]),s("td",{staticClass:"r b"},[t._v(t._s(a.primaryFor))])])})),0)]):t._e(),"games"==a.type?s("table",{staticClass:"results"},[t._m(2,!0),s("tbody",t._l(a.leagueTable,(function(a,r){return s("tr",{key:r},[s("td",{staticClass:"m"},[t._v(t._s(r+1))]),s("td",{staticClass:"l br"},[t._v(t._s(a.club))]),s("td",{staticClass:"r br"},[t._v(t._s(a.played))]),s("td",{staticClass:"r br"},[t._v(t._s(a.won))]),s("td",{staticClass:"r br"},[t._v(t._s(a.drawn))]),s("td",{staticClass:"r br"},[t._v(t._s(a.lost))]),s("td",{staticClass:"r"},[t._v(t._s(a.primaryAgainst))]),s("td",{staticClass:"r b"},[t._v(t._s(a.primaryFor))])])})),0)]):t._e(),"points"==a.type?s("table",{staticClass:"results"},[t._m(3,!0),s("tbody",t._l(a.leagueTable,(function(a,r){return s("tr",{key:r},[s("td",{staticClass:"m"},[t._v(t._s(r+1))]),s("td",{staticClass:"l br"},[t._v(t._s(a.club))]),s("td",{staticClass:"r br"},[t._v(t._s(a.played))]),s("td",{staticClass:"r br"},[t._v(t._s(a.won))]),s("td",{staticClass:"r br"},[t._v(t._s(a.drawn))]),s("td",{staticClass:"r br"},[t._v(t._s(a.lost))]),s("td",{staticClass:"r"},[t._v(t._s(a.primaryAgainst))]),s("td",{staticClass:"r b"},[t._v(t._s(a.primaryFor))])])})),0)]):t._e()])])})),0):t._e()])],1)],1)},e=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"b",attrs:{colspan:"6"}}),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Rubbers")]),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Games")])]),s("tr",[s("th"),s("th",{staticClass:"l"},[t._v("Team")]),s("th",{staticClass:"r"},[t._v("P")]),s("th",{staticClass:"r"},[t._v("W")]),s("th",{staticClass:"r"},[t._v("D")]),s("th",{staticClass:"r"},[t._v("L")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")])])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"b",attrs:{colspan:"6"}}),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Games")]),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Rubbers")])]),s("tr",[s("th"),s("th",{staticClass:"l"},[t._v("Team")]),s("th",{staticClass:"r"},[t._v("P")]),s("th",{staticClass:"r"},[t._v("W")]),s("th",{staticClass:"r"},[t._v("D")]),s("th",{staticClass:"r"},[t._v("L")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")])])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"b",attrs:{colspan:"6"}}),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Games")])]),s("tr",[s("th"),s("th",{staticClass:"l"},[t._v("Team")]),s("th",{staticClass:"r"},[t._v("P")]),s("th",{staticClass:"r"},[t._v("W")]),s("th",{staticClass:"r"},[t._v("D")]),s("th",{staticClass:"r"},[t._v("L")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")])])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"b",attrs:{colspan:"6"}}),s("th",{staticClass:"m",attrs:{colspan:"2"}},[t._v("Points")])]),s("tr",[s("th"),s("th",{staticClass:"l"},[t._v("Team")]),s("th",{staticClass:"r"},[t._v("P")]),s("th",{staticClass:"r"},[t._v("W")]),s("th",{staticClass:"r"},[t._v("D")]),s("th",{staticClass:"r"},[t._v("L")]),s("th",{staticClass:"r"},[t._v("A")]),s("th",{staticClass:"r"},[t._v("F")])])])}],n=a(8439),i=(a(7658),a(2707),a(6699),a(2023),a(4337)),o=a(3400),l=a(9158),c={name:"tables",mixins:[l.W],components:{TitleBar:i.Z,MainMenu:o.Z},computed:{tableData:function(){return this.$store.state.season[this.seasonId],{}}},data:function(){return{seasonId:"",render:!1,loadingMsg:"Loading...",leagueTables:[]}},mounted:function(){this.seasonId=this.$store.state.currentSeason,this.updateSeason()},methods:{multisort:function(t,s,a,r){if("undefined"==typeof s){s=[];for(var e=0;e<t[0].length;e++)s.push(e)}if("undefined"==typeof a){a=[];for(var n=0;n<t[0].length;n++)a.push("ASC")}function i(t,s,a,e,n){var o="DESC"==e[n]?1:0,l=!isNaN(+t[a[n]]-+s[a[n]]),c=l?+t[a[n]]:t[a[n]].toLowerCase(),u=l?+s[a[n]]:s[a[n]].toLowerCase();return c<u?0==o?-1:1:c==u?a.length-1>n?i(t,s,a,e,n+1):r(t,s):0==o?1:-1}return t.sort((function(t,r){return i(t,r,s,a,0)}))},tie_breaker:function(t,s){var a=[t,s].sort()[0];return t==a?1:s==a?-1:0},generateLeagueTables:function(){var t,s={club:"",played:0,won:0,drawn:0,lost:0,primaryFor:0,primaryAgainst:0,secondaryFor:0,secondaryAgainst:0},a=[],r={},e=(0,n.Z)(this.$store.state.season[this.seasonId].leagues);try{for(e.s();!(t=e.n()).done;){var i,o=t.value,l=(0,n.Z)(o.data);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=c[3],d=c[4],v=parseInt(c[5])||0,h=parseInt(c[6])||0,_=parseInt(c[7])||0,f=parseInt(c[8])||0;void 0===r[u]&&(r[u]=Object.assign({},s),r[u].club=u),void 0===r[d]&&(r[d]=Object.assign({},s),r[d].club=d),0==v&&0==h||(r[u].played++,r[d].played++,v>h?(r[u].won++,r[d].lost++):h>v?(r[d].won++,r[u].lost++):(r[u].drawn++,r[d].drawn++),r[u].primaryFor+=v,r[u].primaryAgainst+=h,r[d].primaryFor+=h,r[d].primaryAgainst+=v,r[u].secondaryFor+=_,r[u].secondaryAgainst+=f,r[d].secondaryFor+=f,r[d].secondaryAgainst+=_)}}catch(b){l.e(b)}finally{l.f()}var p=[];for(var C in r)p.push(r[C]);var g=this.multisort(p,["primaryFor","secondaryFor","primaryAgainst","secondaryAgainst","won","drawn","lost","played"],["DESC","DESC","ASC","ASC","DESC","DESC","ASC","ASC"],this.tie_breaker);a.push({leagueName:o.leagueName,division:o.division,type:o.type,leagueTable:g}),r={}}}catch(b){e.e(b)}finally{e.f()}this.leagueTables=a},updateSeason:function(){var t=this,s=this.seasonId;this.render=!1,this.$store.state.season[s]?(this.generateLeagueTables(),this.render=!0):(this.loadingMsg="Loading...",this.getCSVData(s).then((function(a){a.includes(void 0)?t.loadingMsg="Failed to load results data":("string"===typeof a[0]&&(a=t.parseCSVData(a)),t.storeParsedCSVData(s,a),t.generateLeagueTables(),t.render=!0)}),(function(){t.loadingMsg="Failed to load results data"})))}}},u=c,d=a(1001),v=(0,d.Z)(u,r,e,!1,null,"c0e2cab0",null),h=v.exports},9341:function(t,s,a){"use strict";var r=a(7293);t.exports=function(t,s){var a=[][t];return!!a&&r((function(){a.call(null,s||function(){return 1},1)}))}},4362:function(t,s,a){var r=a(1589),e=Math.floor,n=function(t,s){var a=t.length,l=e(a/2);return a<8?i(t,s):o(t,n(r(t,0,l),s),n(r(t,l),s),s)},i=function(t,s){var a,r,e=t.length,n=1;while(n<e){r=n,a=t[n];while(r&&s(t[r-1],a)>0)t[r]=t[--r];r!==n++&&(t[r]=a)}return t},o=function(t,s,a,r){var e=s.length,n=a.length,i=0,o=0;while(i<e||o<n)t[i+o]=i<e&&o<n?r(s[i],a[o])<=0?s[i++]:a[o++]:i<e?s[i++]:a[o++];return t};t.exports=n},5117:function(t,s,a){"use strict";var r=a(6330),e=TypeError;t.exports=function(t,s){if(!delete t[s])throw e("Cannot delete property "+r(s)+" of "+r(t))}},8886:function(t,s,a){var r=a(8113),e=r.match(/firefox\/(\d+)/i);t.exports=!!e&&+e[1]},256:function(t,s,a){var r=a(8113);t.exports=/MSIE|Trident/.test(r)},8008:function(t,s,a){var r=a(8113),e=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!e&&+e[1]},2222:function(t,s,a){"use strict";var r=a(2109),e=a(7293),n=a(3157),i=a(111),o=a(7908),l=a(6244),c=a(7207),u=a(6135),d=a(5417),v=a(1194),h=a(5112),_=a(7392),f=h("isConcatSpreadable"),p=_>=51||!e((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),C=v("concat"),g=function(t){if(!i(t))return!1;var s=t[f];return void 0!==s?!!s:n(t)},b=!p||!C;r({target:"Array",proto:!0,arity:1,forced:b},{concat:function(t){var s,a,r,e,n,i=o(this),v=d(i,0),h=0;for(s=-1,r=arguments.length;s<r;s++)if(n=-1===s?i:arguments[s],g(n))for(e=l(n),c(h+e),a=0;a<e;a++,h++)a in n&&u(v,h,n[a]);else c(h+1),u(v,h++,n);return v.length=h,v}})},7327:function(t,s,a){"use strict";var r=a(2109),e=a(2092).filter,n=a(1194),i=n("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:function(t,s,a){"use strict";var r=a(2109),e=a(1702),n=a(9662),i=a(7908),o=a(6244),l=a(5117),c=a(1340),u=a(7293),d=a(4362),v=a(9341),h=a(8886),_=a(256),f=a(7392),p=a(8008),C=[],g=e(C.sort),b=e(C.push),y=u((function(){C.sort(void 0)})),m=u((function(){C.sort(null)})),A=v("sort"),S=!u((function(){if(f)return f<70;if(!(h&&h>3)){if(_)return!0;if(p)return p<603;var t,s,a,r,e="";for(t=65;t<76;t++){switch(s=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(r=0;r<47;r++)C.push({k:s+r,v:a})}for(C.sort((function(t,s){return s.v-t.v})),r=0;r<C.length;r++)s=C[r].k.charAt(0),e.charAt(e.length-1)!==s&&(e+=s);return"DGBEFHACIJK"!==e}})),w=y||!m||!A||!S,D=function(t){return function(s,a){return void 0===a?-1:void 0===s?1:void 0!==t?+t(s,a)||0:c(s)>c(a)?1:-1}};r({target:"Array",proto:!0,forced:w},{sort:function(t){void 0!==t&&n(t);var s=i(this);if(S)return void 0===t?g(s):g(s,t);var a,r,e=[],c=o(s);for(r=0;r<c;r++)r in s&&b(e,s[r]);d(e,D(t)),a=o(e),r=0;while(r<a)s[r]=e[r++];while(r<c)l(s,r++);return s}})},6755:function(t,s,a){"use strict";var r=a(2109),e=a(1702),n=a(1236).f,i=a(7466),o=a(1340),l=a(3929),c=a(4488),u=a(4964),d=a(1913),v=e("".startsWith),h=e("".slice),_=Math.min,f=u("startsWith"),p=!d&&!f&&!!function(){var t=n(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!p&&!f},{startsWith:function(t){var s=o(c(this));l(t);var a=i(_(arguments.length>1?arguments[1]:void 0,s.length)),r=o(t);return v?v(s,r,a):h(s,a,a+r.length)===r}})},9158:function(t,s,a){"use strict";a.d(s,{W:function(){return e}});var r=a(8439),e=(a(1249),a(2222),a(1539),a(8783),a(3948),a(6755),a(7658),{computed:{dataDescription:function(){return this.$store.state.dataDescription}},methods:{getCSVData:function(t){var s=this.dataDescription[t].map((function(s){if("local"===s.location)return"/data/".concat(t,"/").concat(s.fileName);if("sheets"===s.location&&s.sheetId){var a="https://sheets.googleapis.com/v4/spreadsheets/".concat(s.sheetId,"/values"),r="AIzaSyC-PzW649nV3K-Dgh_ZAf3cOL6I5XHOfzg";return"".concat(a,"/").concat(s.sheetName,"!A1%3AZ99?key=").concat(r)}}));return Promise.all(s.map((function(t){return fetch(t).then((function(t){var s=t.headers.get("Content-Type");return s.startsWith("text/csv")?t.text():s.startsWith("application/json")?t.json().then((function(t){if(void 0!==t.values)return t.values})):void 0}))})))},parseCSVData:function(t){var s,a=[],e=(0,r.Z)(t);try{for(e.s();!(s=e.n()).done;){var n,i=s.value,o=[],l=(0,r.Z)(i.split("\n"));try{for(l.s();!(n=l.n()).done;){var c=n.value,u=c.split(",");u.length>1&&o.push(u)}}catch(d){l.e(d)}finally{l.f()}a.push(o)}}catch(d){e.e(d)}finally{e.f()}return a},storeParsedCSVData:function(t,s){var a={seasonId:t,season:{leagues:[]}};for(var r in this.dataDescription[t]){var e=this.dataDescription[t][r],n=s[r].shift();a.season.leagues.push({leagueName:e.leagueName,division:e.division,type:e.type,header:n,data:s[r]})}this.$store.commit("addSeason",a)}}})}}]);